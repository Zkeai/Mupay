edition: 3.0.0
name: mupay
access: "mac"
vars:
  region: "cn-hongkong" # 地区
  functionName: "mupay" # 函数名称

resources:
  framework:
    component: fc3
    actions:
      pre-deploy:
        - run: npm install
          path: ./
        - run: npm run build
          path: ./

    props:
      region: ${vars.region}
      description: Serverless Devs Web Framework Function
      runtime: debian10
      timeout: 60
      functionName: ${vars.functionName}
      code: ./ # 函数代码目录
      environmentVariables:
        PORT: 3000 # 设置端口号为 3000
      customRuntimeConfig:
        command: npm run start # 自定义命令，运行 npm start
      triggers:
        - triggerName: httpTrigger
          triggerType: http
          triggerConfig:
            authType: anonymous
            methods:
              - GET
              - POST
            disableURLInternet: false
